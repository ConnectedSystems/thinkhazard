WSGIPassAuthorization On


#############
# Admin App #
#############

WSGIDaemonProcess thinkhazard:{{INSTANCEID}}_admin \
    display-name=(wsgi:{{INSTANCEID}}_admin) \
    user=www-data group=staff \
    python-path={{PYTHONPATH}} processes=4

WSGIScriptAlias /{{INSTANCEID}}/admin {{WSGISCRIPT_ADMIN}}

<Location /{{INSTANCEID}}/admin>
    WSGIProcessGroup thinkhazard:{{INSTANCEID}}_admin
    WSGIApplicationGroup %{GLOBAL}
    Order allow,deny
    Allow from all
    Require valid-user
    Satisfy All
    AuthType Basic
    AuthName "Authentication Required"
    AuthUserFile {{AUTHUSERFILE}}
</Location>


##############
# Public App #
##############

WSGIDaemonProcess thinkhazard:{{INSTANCEID}} \
    display-name=(wsgi:{{INSTANCEID}}) \
    user=www-data group=staff \
    python-path={{PYTHONPATH}} processes=4

WSGIScriptAlias /{{INSTANCEID}} {{WSGISCRIPT}}

<Location /{{INSTANCEID}}>
    WSGIProcessGroup thinkhazard:{{INSTANCEID}}
    WSGIApplicationGroup %{GLOBAL}
</Location>
